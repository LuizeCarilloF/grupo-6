# ğŸŒ Conectar Terraform com AWS + Transferir chave privada para EC2 pÃºblica

Este guia ensina como configurar o acesso Ã  AWS e enviar sua chave privada (`.pem`) da sua mÃ¡quina local para uma EC2 pÃºblica, para que vocÃª possa acessar uma EC2 privada por dentro dela.

---

## 1. âœ… CONFIGURAR CREDENCIAIS AWS TEMPORÃRIAS

VocÃª recebeu suas credenciais temporÃ¡rias (access key, secret key e session token) no seu Cloud Lab.

### ğŸ”§ Edite o arquivo de credenciais:
Abra o terminal e digite:

```bash
nano ~/.aws/credentials
```

### ğŸ“ Cole esse modelo com suas credenciais atualizadas:

```
[default]
aws_access_key_id=SEU_ID
aws_secret_access_key=SUA_SECRET
aws_session_token=SEU_SESSION_TOKEN
```

> âš ï¸ Substitua os valores acima pelas informaÃ§Ãµes fornecidas no lab.

### ğŸ’¾ Para salvar:
- Pressione `Ctrl + O` (depois Enter)
- Pressione `Ctrl + X` para sair

---

## 2. ğŸ” AJUSTAR PERMISSÃ•ES DA CHAVE `.pem` NA SUA MÃQUINA LOCAL

Antes de usar a chave `.pem`, ela precisa ter permissÃ£o restrita:

```bash
chmod 400 key-publica-g6.pem
chmod 400 key-privada-g6.pem
```

---

## 3. ğŸš€ TRANSFERIR CHAVE PRIVADA PARA EC2 PÃšBLICA

Use o comando abaixo para copiar `key-privada-g6.pem` para sua EC2 pÃºblica:

```bash
scp -i key-publica-g6.pem key-privada-g6.pem ubuntu@<IP_PUBLICO_DA_EC2_PUBLICA>:/home/ubuntu/
```

> Exemplo real:
```bash
scp -i key-publica-g6.pem key-privada-g6.pem ubuntu@3.84.176.217:/home/ubuntu/
```

---

## 4. ğŸ”‘ ACESSAR EC2 PÃšBLICA

```bash
ssh -i key-publica-g6.pem ubuntu@3.84.176.217
```

---

## 5. âœ… DENTRO DA EC2 PÃšBLICA: AJUSTE A PERMISSÃƒO DA CHAVE RECEBIDA

```bash
chmod 400 key-privada-g6.pem
```

---

## 6. ğŸ” CONECTAR NA EC2 PRIVADA A PARTIR DA PÃšBLICA

```bash
ssh -i key-privada-g6.pem ubuntu@<IP_PRIVADO_DA_EC2_PRIVADA>
```

Substitua `<IP_PRIVADO_DA_EC2_PRIVADA>` pelo IP privado real da sua instÃ¢ncia privada.

---

Tudo pronto! Agora vocÃª pode usar sua EC2 pÃºblica como ponto de acesso (bastion) para gerenciar sua EC2 privada com seguranÃ§a.